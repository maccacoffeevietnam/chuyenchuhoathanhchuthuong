<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Quản Trị - Text Converter</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Quản Trị Website</h2>
            <nav>
                <ul>
                    <li><a href="#dashboard" class="nav-link active" onclick="showSection('dashboard')">Tổng quan</a></li>
                    <li><a href="#products" class="nav-link" onclick="showSection('products')">Sản phẩm Affiliate</a></li>
                    <li><a href="#tours" class="nav-link" onclick="showSection('tours')">Tour du lịch</a></li>
                    <li><a href="#cars" class="nav-link" onclick="showSection('cars')">Ô tô</a></li>
                    <li><a href="#bookings" class="nav-link" onclick="showSection('bookings')">Đơn đặt hàng</a></li>
                    <li><a href="#links" class="nav-link" onclick="showSection('links')">Liên kết</a></li>
                    <li><a href="#seo" class="nav-link" onclick="showSection('seo')">SEO & Meta</a></li>
                    <li><a href="#popup" class="nav-link" onclick="showSection('popup')">Popup</a></li>
                    <li><a href="#tracking" class="nav-link" onclick="showSection('tracking')">Tracking Code</a></li>
                    <li><a href="#password" class="nav-link" onclick="showSection('password')">Đổi mật khẩu</a></li>
                </ul>
            </nav>
            <a href="index.html" class="btn-back">← Về trang chính</a>
            <button onclick="logout()" class="btn btn-danger" style="width: 100%; margin-top: 10px;">Đăng xuất</button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <h1>Tổng quan</h1>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Tổng sản phẩm</h3>
                        <p class="stat-number" id="totalProducts">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Tổng tour</h3>
                        <p class="stat-number" id="totalTours">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Tổng xe ô tô</h3>
                        <p class="stat-number" id="totalCars">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Đơn đặt hàng</h3>
                        <p class="stat-number" id="totalBookings">0</p>
                    </div>
                </div>
            </section>

            <!-- Products Section -->
            <section id="products" class="admin-section">
                <h1>Quản lý Sản phẩm Affiliate</h1>
                <button class="btn btn-primary" onclick="showProductForm()">+ Thêm sản phẩm mới</button>
                
                <div id="productForm" class="form-container" style="display: none;">
                    <h3>Thêm/Sửa sản phẩm</h3>
                    <form onsubmit="saveProduct(event)">
                        <input type="hidden" id="productId">
                        <div class="form-group">
                            <label>Tên sản phẩm:</label>
                            <input type="text" id="productTitle" required>
                        </div>
                        <div class="form-group">
                            <label>Link hình ảnh:</label>
                            <input type="url" id="productImage" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="form-group">
                            <label>Link sản phẩm:</label>
                            <input type="url" id="productLink" required>
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                        <button type="button" class="btn btn-secondary" onclick="hideProductForm()">Hủy</button>
                    </form>
                </div>
                
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên sản phẩm</th>
                                <th>Hình ảnh</th>
                                <th>Link</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="productsTable">
                            <!-- Products will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Tours Section -->
            <section id="tours" class="admin-section">
                <h1>Quản lý Tour du lịch</h1>
                <button class="btn btn-primary" onclick="showTourForm()">+ Thêm tour mới</button>
                
                <div id="tourForm" class="form-container" style="display: none;">
                    <h3>Thêm/Sửa tour</h3>
                    <form onsubmit="saveTour(event)">
                        <input type="hidden" id="tourId">
                        <div class="form-group">
                            <label>Tên tour:</label>
                            <input type="text" id="tourName" required>
                        </div>
                        <div class="form-group">
                            <label>Link hình ảnh:</label>
                            <input type="url" id="tourImage">
                        </div>
                        <div class="form-group">
                            <label>Nơi khởi hành:</label>
                            <input type="text" id="tourDeparture">
                        </div>
                        <div class="form-group">
                            <label>Phương tiện:</label>
                            <input type="text" id="tourTransport">
                        </div>
                        <div class="form-group">
                            <label>Ngày khởi hành:</label>
                            <input type="text" id="tourDate">
                        </div>
                        <div class="form-group">
                            <label>Giá tour (VNĐ):</label>
                            <input type="number" id="tourPrice">
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                        <button type="button" class="btn btn-secondary" onclick="hideTourForm()">Hủy</button>
                    </form>
                </div>
                
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên tour</th>
                                <th>Khởi hành</th>
                                <th>Phương tiện</th>
                                <th>Ngày</th>
                                <th>Giá</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="toursTable">
                            <!-- Tours will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Cars Section -->
            <section id="cars" class="admin-section">
                <h1>Quản lý Ô tô</h1>
                <button class="btn btn-primary" onclick="showCarForm()">+ Thêm xe mới</button>
                
                <div id="carForm" class="form-container" style="display: none;">
                    <h3>Thêm/Sửa xe</h3>
                    <form onsubmit="saveCar(event)">
                        <input type="hidden" id="carId">
                        <div class="form-group">
                            <label>Tên xe:</label>
                            <input type="text" id="carName" required>
                        </div>
                        <div class="form-group">
                            <label>Link hình ảnh:</label>
                            <input type="url" id="carImage">
                        </div>
                        <div class="form-group">
                            <label>Xuất xứ:</label>
                            <input type="text" id="carOrigin">
                        </div>
                        <div class="form-group">
                            <label>Năm sản xuất:</label>
                            <input type="text" id="carYear">
                        </div>
                        <div class="form-group">
                            <label>Động cơ:</label>
                            <input type="text" id="carEngine">
                        </div>
                        <div class="form-group">
                            <label>Giá xe (VNĐ):</label>
                            <input type="number" id="carPrice">
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                        <button type="button" class="btn btn-secondary" onclick="hideCarForm()">Hủy</button>
                    </form>
                </div>
                
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tên xe</th>
                                <th>Xuất xứ</th>
                                <th>Năm SX</th>
                                <th>Động cơ</th>
                                <th>Giá</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="carsTable">
                            <!-- Cars will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Bookings Section -->
            <section id="bookings" class="admin-section">
                <h1>Quản lý Đơn đặt hàng</h1>
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Sản phẩm/Tour</th>
                                <th>Loại</th>
                                <th>Họ tên</th>
                                <th>Số điện thoại</th>
                                <th>Ngày đặt</th>
                            </tr>
                        </thead>
                        <tbody id="bookingsTable">
                            <!-- Bookings will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Links Section -->
            <section id="links" class="admin-section">
                <h1>Quản lý Liên kết</h1>
                <button class="btn btn-primary" onclick="showLinkForm()">+ Thêm liên kết mới</button>
                
                <div id="linkForm" class="form-container" style="display: none;">
                    <h3>Thêm/Sửa liên kết</h3>
                    <form onsubmit="saveLink(event)">
                        <input type="hidden" id="linkId">
                        <div class="form-group">
                            <label>Anchor text:</label>
                            <input type="text" id="linkText" required>
                        </div>
                        <div class="form-group">
                            <label>URL:</label>
                            <input type="url" id="linkUrl" required>
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                        <button type="button" class="btn btn-secondary" onclick="hideLinkForm()">Hủy</button>
                    </form>
                </div>
                
                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Anchor Text</th>
                                <th>URL</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="linksTable">
                            <!-- Links will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- SEO Section -->
            <section id="seo" class="admin-section">
                <h1>Cài đặt SEO & Meta</h1>
                <form onsubmit="saveSeoSettings(event)">
                    <div class="form-group">
                        <label>Title trang:</label>
                        <input type="text" id="pageTitle">
                    </div>
                    <div class="form-group">
                        <label>Meta Description:</label>
                        <textarea id="metaDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>H1 - Tiêu đề chính:</label>
                        <input type="text" id="h1">
                    </div>
                    <div class="form-group">
                        <label>H2 - Chuyển đổi văn bản:</label>
                        <input type="text" id="h2Converter">
                    </div>
                    <div class="form-group">
                        <label>H2 - Sản phẩm Affiliate:</label>
                        <input type="text" id="h2Affiliate">
                    </div>
                    <div class="form-group">
                        <label>H2 - Tour du lịch:</label>
                        <input type="text" id="h2Tours">
                    </div>
                    <div class="form-group">
                        <label>H2 - Ô tô:</label>
                        <input type="text" id="h2Cars">
                    </div>
                    <button type="submit" class="btn btn-primary">Lưu cài đặt SEO</button>
                </form>
            </section>

            <!-- Popup Section -->
            <section id="popup" class="admin-section">
                <h1>Cài đặt Popup</h1>
                <form onsubmit="savePopupSettings(event)">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="popupEnabled"> Bật popup
                        </label>
                    </div>
                    <div class="form-group">
                        <label>Thời gian hiển thị (giây):</label>
                        <input type="number" id="popupDelay" min="1" value="5">
                    </div>
                    <div class="form-group">
                        <label>Loại popup:</label>
                        <select id="popupType" onchange="togglePopupFields()">
                            <option value="text">Văn bản</option>
                            <option value="image">Hình ảnh</option>
                            <option value="video">Video</option>
                        </select>
                    </div>
                    
                    <div id="textFields">
                        <div class="form-group">
                            <label>Nội dung văn bản:</label>
                            <textarea id="popupTextContent" rows="4"></textarea>
                        </div>
                    </div>
                    
                    <div id="imageFields" style="display: none;">
                        <div class="form-group">
                            <label>URL hình ảnh:</label>
                            <input type="url" id="popupImageUrl">
                        </div>
                        <div class="form-group">
                            <label>Link khi click vào ảnh:</label>
                            <input type="url" id="popupImageLink">
                        </div>
                    </div>
                    
                    <div id="videoFields" style="display: none;">
                        <div class="form-group">
                            <label>URL video:</label>
                            <input type="url" id="popupVideoUrl">
                        </div>
                        <div class="form-group">
                            <label>Link nút dưới video:</label>
                            <input type="url" id="popupVideoLink">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Lưu cài đặt Popup</button>
                </form>
            </section>

            <!-- Tracking Section -->
            <section id="tracking" class="admin-section">
                <h1>Tracking Code</h1>
                <form onsubmit="saveTrackingSettings(event)">
                    <div class="form-group">
                        <label>Google Analytics 4 (GA4):</label>
                        <textarea id="ga4Code" rows="4" placeholder="Dán code GA4 vào đây"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Google Tag Manager ID:</label>
                        <input type="text" id="gtmId" placeholder="GTM-XXXXXX">
                    </div>
                    <div class="form-group">
                        <label>Google Search Console:</label>
                        <textarea id="searchConsoleCode" rows="3" placeholder="Dán code xác thực Search Console"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Mã khác:</label>
                        <textarea id="otherTrackingCode" rows="4" placeholder="Dán các mã tracking khác vào đây"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Lưu Tracking Code</button>
                </form>
            </section>

            <!-- Change Password Section -->
            <section id="password" class="admin-section">
                <h1>Đổi Mật Khẩu</h1>
                <form onsubmit="changePassword(event)" style="max-width: 500px;">
                    <div class="form-group">
                        <label for="currentPassword">Mật khẩu hiện tại:</label>
                        <input type="password" id="currentPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="newPassword">Mật khẩu mới:</label>
                        <input type="password" id="newPassword" required minlength="6">
                        <small style="color: #6b7280;">Tối thiểu 6 ký tự</small>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Xác nhận mật khẩu mới:</label>
                        <input type="password" id="confirmPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Đổi mật khẩu</button>
                </form>
            </section>
        </main>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>